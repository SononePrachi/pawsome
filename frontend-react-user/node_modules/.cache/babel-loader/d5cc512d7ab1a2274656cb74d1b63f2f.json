{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\FinalProject\\\\Project_Pawsome\\\\frontend-react-user\\\\src\\\\user\\\\BookGround.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport sweetalert from \"sweetalert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction BookGround() {\n  _s();\n\n  const [groundList, setGroundList] = useState({});\n  const [timeList, setTimeList] = useState([]);\n  const [currentDate, setdate] = useState(\"\");\n  const [bookedSlotsList, setBookSlotList] = useState([]); //   const [getDate, setdates] = useState(\"\");\n\n  const [startDate, setStartDate] = useState(new Date());\n  useEffect(() => {\n    if (localStorage.getItem(\"role\") === \"null\" || localStorage.getItem(\"role\") != \"3\") {\n      window.location.href = \"/login\";\n    }\n\n    getAllGrounds();\n    var today = new Date();\n    var date = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\n    setdate(date);\n  }, []);\n\n  const Book = async (groundid, amount) => {\n    //  window.location.href = \"/bookground\";\n    console.log(\">>>>\" + groundid + \" \" + amount + \" \" + currentDate);\n    const book = {\n      userId: localStorage.getItem(\"userid\"),\n      groundId: groundid,\n      timeslotsId: localStorage.getItem(\"tslots\"),\n      amount: amount,\n      date: currentDate\n    };\n    const res = await axios.post(\"http://localhost:8081/saveBookings\", book);\n    sweetalert(\"success\", \"Added successfully\", \"success\");\n  };\n\n  const getAvailableTime = async date => {\n    setdate(date);\n    const checktime = {\n      groundId: localStorage.getItem(\"groundid\"),\n      date: currentDate\n    };\n    const avalableTime = await axios.post(\"http://localhost:8081/findBookGround\", checktime);\n    console.log(avalableTime.data);\n    setBookSlotList(avalableTime.data);\n  };\n\n  const getAllGrounds = async () => {\n    const ground = {\n      ground_id: localStorage.getItem(\"groundid\")\n    };\n    const response = await axios.post(\"http://localhost:8081/findByGoundId\", ground);\n    setGroundList(response.data);\n    setTimeList(response.data.timeslots); // console.log(response.data);\n    // console.log(response.data.timeslots);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \" row  viewGround\",\n    style: {\n      backgroundColor: \"black\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"mx-auto my-2 col-10 p-3 bg-light rounded row mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            class: \"w-100 my-auto \",\n            src: groundList.ground_image,\n            style: {\n              borderRadius: \"10px\",\n              height: \"400px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-12 row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"mt-3 h1 col-12\",\n            children: groundList.ground_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"col-5 h5 mt-3\",\n            children: [\"Address : \", groundList.loction]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"col-4 h5 mt-3 \",\n            children: [\"City : \", groundList.city]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"col-3 h5 mt-3\",\n            children: [\"Rent per time slots:\", groundList.amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            class: \"form-control\",\n            id: \"\" //   min={currentDate}\n            ,\n            onChange: e => {\n              getAvailableTime(e.target.value);\n            },\n            name: \"date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), timeList.map(time => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [bookedSlotsList.map(booked => {\n                if (time.slot_id === booked.timeslotsId) {\n                  console.log(\">>>>>Iffff>>>\" + booked.timeslotsId + \" \" + time.slot_id);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"col-12 mx-auto \",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      class: \"col-1 ml-5 mt-1 \",\n                      name: \"time\",\n                      value: time.slot_id,\n                      onClick: () => {\n                        timeSlot(time.slot_id);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 27\n                    }, this), time.time_slot]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 25\n                  }, this);\n                } else {\n                  console.log(\">>>>>>>>\" + booked.timeslotsId + \" \" + time.slot_id);\n                }\n              }), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-outline-success navBtnLogin mt-3 col-12\",\n            type: \"button\",\n            onClick: () => {\n              Book(groundList.ground_id, groundList.amount);\n            },\n            children: \"Book Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), \");\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BookGround, \"4AOwAmg5ctCuwA3VbXKEPrvraUU=\");\n\n_c = BookGround;\nexport default BookGround;\n\nfunction timeSlot(time) {\n  //alert(time);\n  localStorage.setItem(\"tslots\", time); //const [timeslot, time] = useState(\"\");\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"BookGround\");","map":{"version":3,"names":["useEffect","useState","axios","sweetalert","BookGround","groundList","setGroundList","timeList","setTimeList","currentDate","setdate","bookedSlotsList","setBookSlotList","startDate","setStartDate","Date","localStorage","getItem","window","location","href","getAllGrounds","today","date","getFullYear","getMonth","getDate","Book","groundid","amount","console","log","book","userId","groundId","timeslotsId","res","post","getAvailableTime","checktime","avalableTime","data","ground","ground_id","response","timeslots","backgroundColor","ground_image","borderRadius","height","ground_name","loction","city","e","target","value","map","time","booked","slot_id","timeSlot","time_slot","setItem"],"sources":["C:/Users/HP/Desktop/FinalProject/Project_Pawsome/frontend-react-user/src/user/BookGround.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport sweetalert from \"sweetalert\";\r\n\r\nfunction BookGround() {\r\n  const [groundList, setGroundList] = useState({});\r\n  const [timeList, setTimeList] = useState([]);\r\n  const [currentDate, setdate] = useState(\"\");\r\n  const [bookedSlotsList, setBookSlotList] = useState([]);\r\n  //   const [getDate, setdates] = useState(\"\");\r\n\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  useEffect(() => {\r\n    if (\r\n      localStorage.getItem(\"role\") === \"null\" ||\r\n      localStorage.getItem(\"role\") != \"3\"\r\n    ) {\r\n      window.location.href = \"/login\";\r\n    }\r\n    getAllGrounds();\r\n    var today = new Date();\r\n    var date =\r\n      today.getFullYear() +\r\n      \"-\" +\r\n      (today.getMonth() + 1) +\r\n      \"-\" +\r\n      today.getDate();\r\n    setdate(date);\r\n  }, []);\r\n\r\n  const Book = async (groundid, amount) => {\r\n  //  window.location.href = \"/bookground\";\r\n    console.log(\">>>>\" + groundid + \" \" + amount + \" \" + currentDate);\r\n\r\n    const book = {\r\n      userId: localStorage.getItem(\"userid\"),\r\n      groundId: groundid,\r\n      timeslotsId: localStorage.getItem(\"tslots\"),\r\n      amount: amount,\r\n      date: currentDate,\r\n    };\r\n    const res = await axios.post(\"http://localhost:8081/saveBookings\", book);\r\n    sweetalert(\"success\", \"Added successfully\", \"success\");\r\n  };\r\n\r\n  const getAvailableTime = async (date) => {\r\n    setdate(date);\r\n    const checktime = {\r\n      groundId: localStorage.getItem(\"groundid\"),\r\n      date: currentDate,\r\n    };\r\n    const avalableTime = await axios.post(\r\n      \"http://localhost:8081/findBookGround\",\r\n      checktime\r\n    );\r\n    console.log(avalableTime.data);\r\n    setBookSlotList(avalableTime.data);\r\n  };\r\n\r\n  const getAllGrounds = async () => {\r\n    const ground = { ground_id: localStorage.getItem(\"groundid\") };\r\n    const response = await axios.post(\r\n      \"http://localhost:8081/findByGoundId\",\r\n      ground\r\n    );\r\n    setGroundList(response.data);\r\n    setTimeList(response.data.timeslots);\r\n    // console.log(response.data);\r\n    // console.log(response.data.timeslots);\r\n  };\r\n\r\n  return (\r\n    <div class=\" row  viewGround\" style={{ backgroundColor: \"black\" }}>\r\n      <div class=\"mt-5\">\r\n        <div class=\"mx-auto my-2 col-10 p-3 bg-light rounded row mt-5\">\r\n          <div class=\"col-12\">\r\n            <img\r\n              class=\"w-100 my-auto \"\r\n              src={groundList.ground_image}\r\n              style={{ borderRadius: \"10px\", height: \"400px\" }}\r\n            />\r\n          </div>\r\n          <div class=\"col-12 row\">\r\n            <div class=\"form-group\">\r\n              {/* <input\r\n                    type=\"date\"\r\n                    class=\"form-control\"\r\n                    id=\"dateOfBirth\"\r\n                    name=\"date\"\r\n                  /> */}\r\n            </div>\r\n\r\n            <p class=\"mt-3 h1 col-12\">{groundList.ground_name}</p>\r\n            <p class=\"col-5 h5 mt-3\">Address : {groundList.loction}</p>\r\n            <p class=\"col-4 h5 mt-3 \">City : {groundList.city}</p>\r\n\r\n            <p class=\"col-3 h5 mt-3\">Rent per time slots:{groundList.amount}</p>\r\n\r\n            <input\r\n              type=\"date\"\r\n              class=\"form-control\"\r\n              id=\"\"\r\n              //   min={currentDate}\r\n              onChange={(e) => {\r\n                getAvailableTime(e.target.value);\r\n              }}\r\n              name=\"date\"\r\n            />\r\n\r\n            {timeList.map((time) => {\r\n              return (\r\n                <div>\r\n                  {bookedSlotsList.map((booked) => {\r\n                    if (time.slot_id === booked.timeslotsId) {\r\n                      console.log(\r\n                        \">>>>>Iffff>>>\" +\r\n                          booked.timeslotsId +\r\n                          \" \" +\r\n                          time.slot_id\r\n                      );\r\n                      return (\r\n                        <div class=\"col-12 mx-auto \">\r\n                          <input\r\n                            type=\"radio\"\r\n                            class=\"col-1 ml-5 mt-1 \"\r\n                            name=\"time\"\r\n                            value={time.slot_id}\r\n                            onClick={() => {\r\n                              timeSlot(time.slot_id);\r\n                            }}\r\n                          />\r\n                          {time.time_slot}\r\n                        </div>\r\n                      );\r\n                    } else {\r\n                      console.log(\r\n                        \">>>>>>>>\" + booked.timeslotsId + \" \" + time.slot_id\r\n                      );\r\n                    }\r\n                  })}{\" \"}\r\n                </div>\r\n              );\r\n            })}\r\n\r\n            <button\r\n              class=\"btn btn-outline-success navBtnLogin mt-3 col-12\"\r\n              type=\"button\"\r\n              onClick={() => {\r\n                Book(groundList.ground_id, groundList.amount);\r\n              }}\r\n            >\r\n              Book Now\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      );\r\n    </div>\r\n  );\r\n}\r\nexport default BookGround;\r\n\r\nfunction timeSlot(time) {\r\n  //alert(time);\r\n  localStorage.setItem(\"tslots\", time);\r\n  //const [timeslot, time] = useState(\"\");\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}